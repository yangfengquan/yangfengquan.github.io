<html>
<body>
<input id="required-code" type="text" size="60"/></br>
<input id="code" type="text" size="60"/></br>
<button onclick="getCode()">提交</button>
</body>
<script>
function getCode(){
var required_code = document.getElementById("required-code").value;
generateActivationCode("B2A414C9-70A36B4D-1872021D-16226CEF", "Ypipe2025")
    .then(activationCode => {
        console.log(activationCode);
document.getElementById("code").value = activationCode
    })

}
required_code = document.getE
async function generateActivationCode(requestCode, secretKey) {
    const combined = `${requestCode}-${secretKey}`;
    
    // 编码字符串为 UTF-8
    const encoder = new TextEncoder();
    const data = encoder.encode(combined);
    
    // 计算 SHA-512 哈希
    const hashBuffer = await crypto.subtle.digest('SHA-512', data);
    
    // 转换为十六进制字符串
    const hashArray = Array.from(new Uint8Array(hashBuffer));
    const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
    
    // 格式化为激活码
    const activationCode = [];
    for (let i = 0; i < 48; i += 8) {
        activationCode.push(hashHex.substring(i, i + 8));
    }
    
    return activationCode.join('-').toUpperCase();
}

// 使用示例

</script>
</html>